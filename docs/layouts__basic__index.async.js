(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"BNX+":function(e,a,o){},I50c:function(e,a,o){"use strict";o.r(a);var n=o("fFZ8"),t=o.n(n),l=o("qIgq"),c=o.n(l),r=o("q1tI"),s=o.n(r),i=(o("BNX+"),o("bXiM")),u=o("5CWz"),d=o("lO0E"),g=o("ofer"),f=o("dfam"),m=o("JrkS"),v=o("x1ji"),E=o.n(v),b=o("Pj7P"),w=o.n(b),p=o("w9Yu"),h=o.n(p),S=o("3a4m"),x=o.n(S),C=o("/MKj"),I=o("k9Yu");function O(e){return new Promise((a,o)=>{console.log("saveUserCode -> code",e);var n=localStorage.getItem("userCode");console.log("saveUserCode -> userCode",n),n&&e==n||(localStorage.setItem("userCode",e),Object(I["a"])(e).then(e=>{"200"==e.code?(localStorage.setItem("userToken",e.data.token),localStorage.setItem("userId",e.data.user_id),a()):o()}))})}var j=O,y=o("u7Y8"),k=o.n(y),q=o("qKvR");function N(){var e=t()(["\n    position: fixed;\n    top: 50%;\n    left:50%;\n    transform:translate(-50%,-50%);\n  "]);return N=function(){return e},e}function T(e){var a=s.a.useState("/"),o=c()(a,2),n=o[0],t=o[1],l=s.a.useState(!1),v=c()(l,2),b=v[0],p=v[1],S=e.location.query.code,C=e.loading;console.log("BasicLayout -> loading",C),console.log("code----\x3e",S);var I=localStorage.getItem("userToken");Object(r["useEffect"])(()=>{console.log("1111111",S,I),S||I?S&&!I?S&&j(S).then(()=>{console.log("show!!!!"),setTimeout(()=>{p(!0)},500)}).catch(()=>{p(!1)}):p(!0):setTimeout(()=>{window.location.href="https://mixin.one/oauth/authorize?client_id=bcec843a-d431-4bf0-8e82-cc10079d20ac&scope=PROFILE:READ+ASSETS:READ&response_type=code"},1e3)},[S,I]);var O=(e,a)=>{console.log("newValue----\x3e",a),t(a),x.a.push(a)};Object(r["useEffect"])(()=>{console.log("location--\x3e",window.location);var e=window.location.href;e.indexOf("newflags")>-1?t("/newflags"):e.indexOf("myflags")>-1?t("/myflags"):t("/")},[]);var y=Object(q["css"])(N());return s.a.createElement("div",{className:"page-container"},s.a.createElement(u["a"],null),s.a.createElement(i["a"],null,s.a.createElement(d["a"],null,s.a.createElement(g["a"],{className:"top-font"},"\u7acb\u5fd7-Setflags"))),b&&e.children,s.a.createElement(k.a,{css:y,size:15,color:"#123abc",loading:C.global}),s.a.createElement(f["a"],{value:n,onChange:O,variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary",className:"tabs-container","aria-label":"icon label tabs example"},s.a.createElement(m["a"],{icon:s.a.createElement(w.a,null),label:"\u7acb\u5fd7\u5217\u8868",value:"/"}),s.a.createElement(m["a"],{icon:s.a.createElement(h.a,null),label:"\u65b0\u5efa\u7acb\u5fd7",value:"/newflags"}),s.a.createElement(m["a"],{icon:s.a.createElement(E.a,null),label:"\u6211\u7684",value:"/myflags"})))}console.log("saveUserCode",j);a["default"]=Object(C["c"])(e=>{var a=e.flag,o=e.loading;return{flag:a,loading:o}})(T)}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"BNX+":function(e,a,o){},I50c:function(e,a,o){"use strict";o.r(a);var t=o("fFZ8"),n=o.n(t),l=o("qIgq"),c=o.n(l),r=o("q1tI"),s=o.n(r),i=(o("BNX+"),o("bXiM")),u=o("5CWz"),d=o("lO0E"),m=o("ofer"),g=o("dfam"),f=o("JrkS"),v=o("x1ji"),b=o.n(v),E=o("Pj7P"),w=o.n(E),p=o("w9Yu"),S=o.n(p),h=o("3a4m"),I=o.n(h),C=o("/MKj"),x=o("k9Yu");function O(e){return new Promise((a,o)=>{console.log("saveUserCode -> code",e);var t=localStorage.getItem("userCode");console.log("saveUserCode -> userCode",t),t&&e==t?a():(localStorage.setItem("userCode",e),Object(x["a"])(e).then(e=>{"200"==e.code?(localStorage.setItem("userToken",e.data.token),localStorage.setItem("userId",e.data.user_id),a()):o()}))})}var j=O,k=o("u7Y8"),y=o.n(k),T=o("qKvR");function q(){var e=n()(["\n    position: fixed;\n    top: 50%;\n    left:50%;\n    transform:translate(-50%,-50%);\n  "]);return q=function(){return e},e}function N(e){var a=s.a.useState("/"),o=c()(a,2),t=o[0],n=o[1],l=s.a.useState(!1),v=c()(l,2),E=v[0],p=v[1],h=e.location.query.code,C=e.loading,x="bcec843a-d431-4bf0-8e82-cc10079d20ac";console.log("BasicLayout -> loading",C),console.log("code----\x3e",h);var O=localStorage.getItem("userToken");Object(r["useEffect"])(()=>{console.log("1111111",h,O),h||O?h&&!O?h&&j(h).then(()=>{console.log("show!!!!"),setTimeout(()=>{p(!0)},500)}).catch(()=>{p(!1)}):p(!0):(setTimeout(()=>{window.location.href="https://mixin.one/oauth/authorize?client_id=".concat("bcec843a-d431-4bf0-8e82-cc10079d20ac","&scope=PROFILE:READ+ASSETS:READ&response_type=code")},1e3),localStorage.removeItem("userToken"),localStorage.removeItem("userId"),localStorage.removeItem("userCode"))},[x,h,O]);var k=(e,a)=>{console.log("newValue----\x3e",a),n(a),I.a.push(a)};Object(r["useEffect"])(()=>{console.log("location--\x3e",window.location);var e=window.location.href;e.indexOf("newflags")>-1?n("/newflags"):e.indexOf("myflags")>-1?n("/myflags"):n("/")},[]);var N=Object(T["css"])(q());return s.a.createElement("div",{className:"page-container"},s.a.createElement(u["a"],null),s.a.createElement(i["a"],null,s.a.createElement(d["a"],null,s.a.createElement(m["a"],{className:"top-font"},"\u7acb\u5fd7-Setflags"))),E&&e.children,s.a.createElement(y.a,{css:N,size:15,color:"#123abc",loading:C.global}),s.a.createElement(g["a"],{value:t,onChange:k,variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary",className:"tabs-container","aria-label":"icon label tabs example"},s.a.createElement(f["a"],{icon:s.a.createElement(w.a,null),label:"\u7acb\u5fd7\u5217\u8868",value:"/"}),s.a.createElement(f["a"],{icon:s.a.createElement(S.a,null),label:"\u65b0\u5efa\u7acb\u5fd7",value:"/newflags"}),s.a.createElement(f["a"],{icon:s.a.createElement(b.a,null),label:"\u6211\u7684",value:"/myflags"})))}console.log("saveUserCode",j);a["default"]=Object(C["c"])(e=>{var a=e.flag,o=e.loading;return{flag:a,loading:o}})(N)}}]);
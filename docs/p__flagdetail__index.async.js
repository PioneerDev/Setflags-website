(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"3DMt":function(e,a,t){},"3jc8":function(e,a,t){"use strict";t.r(a);var n=t("p0pE"),r=t.n(n),l=t("q1tI"),i=t.n(l),c=t("/MKj"),m=t("qIgq"),s=t.n(m),d=(t("sQOL"),t("Z3vd")),u=e=>{var a=e.detailInfo,t=localStorage.getItem("userId"),n=a.payer_id,r=Object(l["useState"])(a.verified),c=s()(r,2),m=c[0],u=(c[1],Object(l["useState"])(a.period_status)),o=s()(u,2),v=o[0],f=(o[1],Object(l["useState"])(null)),E=s()(f,2),p=E[0],g=E[1],y=e.dispatch,N=e=>{y({type:"flag/opFlag",payload:{flagid:a.id,op:e}})},w=e=>{g(e.currentTarget.files[0])},b=()=>{var e=new FormData;e.append("file",p),y({type:"flag/uploadEvidence",payload:{flagid:a.id,file:e,type:"image"}})},k=(e,a)=>{if(t===n)switch(v){case"undone":return i.a.createElement("div",{className:"detailinfo-button"},i.a.createElement("form",{id:"uploadImg"},i.a.createElement("div",{className:"detailinfo-upload"},i.a.createElement("input",{type:"file",onChange:w})),i.a.createElement("br",null),i.a.createElement(d["a"],{variant:"contained",color:"primary",onClick:b},"\u4e0a\u4f20\u8bc1\u636e")));case"done":return i.a.createElement("div",null,"\u5df2\u4e0a\u4f20\u8bc1\u636e");case"close":return i.a.createElement("div",null,"\u5df2\u5173\u95ed");default:}else switch(e){case"NO":return i.a.createElement("div",null,"\u5df2\u89c1\u8bc1\u672a\u5b8c\u6210");case"UNSET":return i.a.createElement("div",{className:"detailinfo-button"},i.a.createElement(d["a"],{variant:"contained",color:"primary",style:{marginRight:10},onClick:()=>N("yes")},"\u5df2\u5b8c\u6210"),i.a.createElement(d["a"],{variant:"contained",color:"secondary",onClick:()=>N("no")},"\u672a\u5b8c\u6210"));case"YES":return i.a.createElement("div",null,"\u5df2\u89c1\u8bc1\u5b8c\u6210");default:return i.a.createElement("div",null)}};return i.a.createElement("div",{className:"detailinfo-container"},i.a.createElement("div",{className:"detailinfo-info"},i.a.createElement("div",{className:"detailinfo-avatar"},i.a.createElement("img",{src:a.payer_avatar_url,alt:""})),i.a.createElement("div",{className:"detailinfo-name"},a.payer_name),i.a.createElement("div",{className:"detailinfo-task"},a.task)),k(m,v),i.a.createElement("div",{className:"detailinfo-rewards"},a.max_witness,i.a.createElement("span",{className:"detailinfo-unit"},"BOX")))},o=Object(c["c"])(e=>{var a=e.flag,t=e.user;return{flag:a,user:t}})(u),v=(t("3DMt"),e=>{var a=e.flag.flagDetail.evidence;return i.a.createElement("div",{className:"evidence-container"},a&&a.map((e,a)=>i.a.createElement(f,{type:e.type,evidenceUrl:e.url,time:e.created_at,key:a})))}),f=e=>{var a=e.evidenceUrl,t=e.time;return i.a.createElement("div",{className:"evidence-item"},i.a.createElement("div",{className:"evidence-item-media"},i.a.createElement("img",{src:a,alt:"evidenceitm"})),i.a.createElement("div",{className:"evidence-item-time"},t))},E=Object(c["c"])(e=>{var a=e.flag;return{flag:a}})(v),p=(t("fPkZ"),e=>{var a=e.flag.flagDetail.witness;return i.a.createElement("div",{className:"rewards-container"},a&&a.map((e,a)=>i.a.createElement(g,{avatarurl:e.payee_avatar_url,name:e.payee_name,time:e.witnessed_time,amount:e.amount,unit:e.symbol,key:a})))}),g=e=>{var a=e.avatarurl,t=e.name,n=e.time,r=e.amount,l=e.unit;return i.a.createElement("div",{className:"rewards-item"},i.a.createElement("div",{className:"rewards-item-info"},i.a.createElement("div",{className:"rewards-item-avatar"},i.a.createElement("img",{src:a,alt:"rewardsavatar"})),i.a.createElement("div",{className:"rewards-item-txt"},i.a.createElement("div",{className:"rewards-item-name"},t),i.a.createElement("div",{className:"rewards-item-time"},n))),i.a.createElement("div",{className:"rewards-item-amount"},r," ",i.a.createElement("span",{className:"rewards-item-unit"},l)))},y=Object(c["c"])(e=>{var a=e.flag;return{flag:a}})(p),N=(t("Ekka"),e=>{var a=e.flag.flagDetail,t=e.dispatch,n=e.location,c=n.query,m=r()({},c),s=a.evidence,d=a.witness;return Object(l["useEffect"])(()=>{s||t({type:"flag/getEvidenceList",payload:{flagid:m.id}})},[m.id,t,s]),Object(l["useEffect"])(()=>{d||t({type:"flag/getWitness",payload:{flagid:m.id}})},[m.id,t,d]),Object(l["useEffect"])(()=>{return()=>{t({type:"flag/clean"})}},[t]),i.a.createElement("div",{className:"flagdetail-container"},m&&i.a.createElement(o,{detailInfo:m}),s&&i.a.createElement(E,null),d&&i.a.createElement(y,null))});a["default"]=Object(c["c"])(e=>{var a=e.flag;return{flag:a}})(N)},Ekka:function(e,a,t){},fPkZ:function(e,a,t){},sQOL:function(e,a,t){}}]);
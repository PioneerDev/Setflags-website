(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"ANS/":function(e,a,t){},FF9h:function(e,a,t){"use strict";t.r(a);var l,s=t("p0pE"),n=t.n(s),r=t("qIgq"),m=t.n(r),o=t("q1tI"),i=t.n(o),c=t("/MKj"),d=(t("ANS/"),t("vBfy")),p=t("Xt1q"),u=t("jjAL"),b=t("Z3vd"),f=t("KYPV"),g=t("K+qn"),v=t("mPma"),y=t("3a4m"),w=t.n(y);console.log("Modal",p["a"]);var _=e=>{var a=e.dispatch,t=e.assets.assetsInfo,s=Object(o["useState"])(!1),r=m()(s,2),c=r[0],y=r[1],_=i.a.createRef();Object(o["useEffect"])(()=>{t||a({type:"assets/getAssetsInfo"})},[t,a]);var E=(e,a)=>{var t;return e||(t="\u8bf7\u8f93\u5165".concat(a)),t},N=(e,a)=>{var t;return e?/^\+?[1-9][0-9]*$/.test(e)||(t="\u8bf7\u8f93\u5165\u6b63\u6574\u6570"):t="\u8bf7\u8f93\u5165".concat(a),t},x=(e,a)=>{var t;return e?/^\d+(\.\d+)?$/.test(e)||(t="\u8bf7\u8f93\u5165\u6570\u5b57"):t="\u8bf7\u8f93\u5165".concat(a),t},k=()=>{console.log("handleMaskClose -> newFlagInterval",l),console.log("formikRef---\x3e",_),y(!1),clearInterval(l)};return i.a.createElement("div",null,i.a.createElement(f["c"],{ref:_,onSubmit:(e,s)=>{var r=s.setSubmitting;y(!0),a({type:"flag/newFlag",payload:n()({},e,{days_per_period:Number(e.days_per_period),max_witness:Number(e.max_witness),amount:Number(e.amount),total_period:Number(e.total_period),symbol:t&&t.filter(a=>a.asset_id==e.asset_id)[0].symbol})}).then(e=>{r(!1),l=setInterval(()=>{a({type:"flag/payFlag",payload:{flag_id:e}}).then(e=>{console.log("status"),"PAID"==e&&(w.a.push("/addflagsuccess"),clearInterval(l))})},1500)})},initialValues:{task:"",amount:0,asset_id:"none",max_witness:"",total_period:1,days_per_period:0},render:e=>{var a=e.submitForm,l=e.isSubmitting;e.values,e.setFieldValue;return i.a.createElement(g["a"],{utils:v["a"]},i.a.createElement(f["b"],{className:"newflags-container"},i.a.createElement("div",{className:"newflags-title"},"\u65b0\u5efa\u7acb\u5fd7"),i.a.createElement(f["a"],{component:d["a"],type:"text",label:"\u4efb\u52a1\u540d",name:"task",className:"newflags-item",validate:e=>E(e,"\u4efb\u52a1\u540d")}),i.a.createElement(f["a"],{component:d["a"],type:"text",label:"\u603b\u5468\u671f\u6570",name:"total_period",className:"newflags-item",validate:e=>x(e,"\u5468\u671f\u6570")}),i.a.createElement(f["a"],{component:d["a"],type:"text",label:"\u6bcf\u4e2a\u5468\u671f\u5929\u6570",name:"days_per_period",className:"newflags-item",validate:e=>N(e,"\u5468\u671f\u5929\u6570")}),i.a.createElement(f["a"],{component:d["a"],type:"text",label:"\u6700\u591a\u89c1\u8bc1\u8005\u4eba\u6570",name:"max_witness",className:"newflags-item",validate:e=>x(e,"\u6700\u591a\u89c1\u8bc1\u8005\u4eba\u6570")}),i.a.createElement(f["a"],{component:d["a"],type:"text",name:"asset_id",label:"\u9009\u62e9\u5e01\u79cd",select:!0,variant:"standard",helperText:"\u8bf7\u9009\u62e9\u5e01\u79cd",margin:"normal",className:"newflags-item",InputLabelProps:{shrink:!0}},t&&t.map((e,a)=>i.a.createElement(u["a"],{key:a,value:e.asset_id},e.symbol))),i.a.createElement(f["a"],{component:d["a"],type:"text",label:"\u91d1\u989d",name:"amount",className:"newflags-item",validate:e=>x(e,"\u91d1\u989d")}),i.a.createElement(b["a"],{variant:"contained",color:"primary",disabled:l,onClick:a,className:"newflags-submit"},"\u70b9\u51fb\u65b0\u5efa")))}}),i.a.createElement(p["a"],{open:c,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},i.a.createElement("div",{className:"newflags-modal"},i.a.createElement("div",{className:"newflags-modal-text"},"\u6b63\u5728\u68c0\u67e5\u652f\u4ed8\u7ed3\u679c"),i.a.createElement(b["a"],{className:"newflags-modal-btn",variant:"contained",color:"primary",onClick:()=>k()},"\u53d6\u6d88"))))};a["default"]=Object(c["c"])(e=>{var a=e.flag,t=e.assets;return{flag:a,assets:t}})(_)}}]);